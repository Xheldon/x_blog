<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>
    
      使用 Apple TV 收看北京联通 IPTV - Xheldon Blog
        
  </title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="google-site-verification" content="EX6ES0UVArXTvp5aeeWrkXGn5M5MZ10bYqXanXDEzAs" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
    <meta name="description" content="本文介绍了一种使用 Apple TV 观看北京联通 IPTV 的方案，以供需要者参考。">
    
        <meta name="keywords" content="Xheldon, 生活, 美食, 旅游, 前端, 技术, 分享">
        <meta name="theme-color" content="#000000">
        <meta name="twitter:card" content="summary_large_image">
        <!-- Open Graph -->
        <meta property="og:title"
          content="使用 Apple TV 收看北京联通 IPTV - Xheldon Blog">
        
          <meta property="og:type" content="article">
          
            <meta property="article:published_time" content=" 2023-10-30T12:00:00"> 
              
                  
                    <meta property="article:tag" content="生活">
                    
                    <meta property="article:tag" content="Apple">
                    
                    <meta property="article:tag" content="经验">
                    
                    <meta property="article:tag" content="折腾">
                    
                    <meta property="article:tag" content="苹果">
                    
                    <meta property="article:tag" content="网络">
                    
                    <meta property="article:tag" content="路由器">
                    
                    <meta property="article:tag" content="教程">
                    
                      
                          
                            <meta name="og:description" content="本文介绍了一种使用 Apple TV 观看北京联通 IPTV 的方案，以供需要者参考。">
                            
                                
                                    <meta property="twitter:image"
                                      content="https://www.xheldon.cn/img/logo.png">
                                    <meta property="og:image"
                                      content="https://www.xheldon.cn/img/logo.png">
                                    
                                      <meta property="og:url" content="https://www.xheldon.cn/life/iptv-for-apple-tv-in-beijing.html">
                                      <meta property="og:site_name" content="Xheldon Blog">
                                      <meta name="google-adsense-account" content="ca-pub-5486286026923411">
                                      <script async
                                        src="https://fundingchoicesmessages.google.com/i/pub-5486286026923411?ers=1"
                                        nonce="hkl-3cDcQhqR8uwDMTDGjQ"></script>
                                      <script nonce="hkl-3cDcQhqR8uwDMTDGjQ">
                                        (function () {
                                          function signalGooglefcPresent() {
                                            if (!window.frames['googlefcPresent']) {
                                              if (document.body) {
                                                const iframe = document.createElement('iframe');
                                                iframe.style =
                                                  'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;';
                                                iframe.style.display = 'none';
                                                iframe.name = 'googlefcPresent';
                                                document.body.appendChild(iframe);
                                              } else {
                                                setTimeout(signalGooglefcPresent, 0);
                                              }
                                            }
                                          }
                                          signalGooglefcPresent();
                                        })();
                                      </script>
                                      <script async
                                        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5486286026923411"
                                        crossorigin="anonymous"></script>

                                      <!-- Web App Manifest -->
                                      <link rel="manifest" href="/js/manifest.json">
                                      <link rel="shortcut icon" href="/img/favicon.ico">
                                      <link rel="canonical"
                                        href="https://www.xheldon.cn/life/iptv-for-apple-tv-in-beijing.html">

                                      <!-- Bootstrap Core CSS -->
                                      <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">

                                      <!-- Custom CSS -->
                                      <link rel="stylesheet" href="/css/xblog.min.css" type="text/css">

                                      <!-- Pygments Highlight CSS -->
                                      <link rel="stylesheet" href="/css/highlight.css" type="text/css">

                                      <!-- Custom Fonts -->
                                      <link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css">

                                      <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
                                      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
                                      <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<meta name="generator" content="Hexo 7.3.0"></head>

  <!-- hack iOS CSS :active style -->

  <body ontouchstart="">
    <!-- Navigation -->
    
      <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
              <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="/">
                Xheldon Blog
              </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="xblog_navbar">
              <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                  <li>
                    <a href="/">Home</a>
                  </li>
                  <li>
                    <a href="/about/">About</a>
                  </li>
                  <li>
                    <a href="/donate/">Donate</a>
                  </li>
                  <li>
                    <a href="/archive/">Archive</a>
                  </li>
                  <li>
                    <a href="/feed.xml">Rss</a>
                  </li>
                  <li class="search-icon">
                    <a href="javascript:void(0)">
                      <i class="fa fa-search"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <!-- /.navbar-collapse -->
          </div>
          <!-- /.container -->
      </nav>
      <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#xblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __XNav__ = {
          close: function () {
            $navbar.className = ' ';
            // wait until animation end.
            setTimeout(function () {
              // prevent frequently toggle
              if ($navbar.className.indexOf('in') < 0) {
                $collapse.style.height = '0px';
              }
            }, 400);
          },
          open: function () {
            $collapse.style.height = 'auto';
            $navbar.className += ' in';
          },
        };
        // Bind Event
        $toggle.addEventListener('click', function (e) {
          if ($navbar.className.indexOf('in') > 0) {
            __XNav__.close();
          } else {
            __XNav__.open();
          }
        });
        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from
         * $toggle/$collapse will break global delegation.
         *
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close XheldonNav.
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
          if (e.target == $toggle) return;
          if (e.target.className == 'icon-bar') return;
          __XNav__.close();
        });
      </script> <!-- Search -->
<div class="search-page">
    <div class="search-icon-close-container">
      <span class="search-icon-close">
        <i class="fa fa-chevron-down"></i>
      </span>
    </div>
    <div class="search-main container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <form></form>
          <input type="text" id="search-input" placeholder="$ grep...">
          </form>
          <div id="search-results" class="mini-post-list"></div>
        </div>
      </div>
    </div>
  </div>

    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://www.xheldon.cn/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/" width="0" height="0"> -->

<style type="text/css">
  header.intro-header {
    position: relative;
    background-image: url("https://static.xheldon.cn//img/index-bg.png");

    
  }

  header.intro-header .headerMask {
      width: 100%;
      height: 100%;
      position: absolute;
      background: rgba(0, 0, 0, 0.4);
    }

    
</style>

  <header class="intro-header">
    
    <div class="headerMask"></div>
    
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="post-heading">
            <div class="tags">
              
              <a class="tag" href="/archive/?tag=%E7%94%9F%E6%B4%BB" title="生活">生活</a>
              
              <a class="tag" href="/archive/?tag=Apple" title="Apple">Apple</a>
              
              <a class="tag" href="/archive/?tag=%E7%BB%8F%E9%AA%8C" title="经验">经验</a>
              
              <a class="tag" href="/archive/?tag=%E6%8A%98%E8%85%BE" title="折腾">折腾</a>
              
              <a class="tag" href="/archive/?tag=%E8%8B%B9%E6%9E%9C" title="苹果">苹果</a>
              
              <a class="tag" href="/archive/?tag=%E7%BD%91%E7%BB%9C" title="网络">网络</a>
              
              <a class="tag" href="/archive/?tag=%E8%B7%AF%E7%94%B1%E5%99%A8" title="路由器">路由器</a>
              
              <a class="tag" href="/archive/?tag=%E6%95%99%E7%A8%8B" title="教程">教程</a>
              
            </div>
            <h1>使用 Apple TV 收看北京联通 IPTV</h1>
            <h2 class="subheading"></h2>
            <span class="meta">✍🏼 写于 2023年10月30日</span>&nbsp;&nbsp;&nbsp;
            
            <span class="meta">💡 更新于 2024年01月09日</span>
            
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">

        <!-- Post Container -->
        <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">
          
                      
                        <div class="callout-tips">🖥 &nbsp;说明：本文介绍了一种使用 Apple TV 观看北京联通 IPTV 的方案，以供需要者参考。
                        </div>
                        
                          
                              
                                <div class="craft-tips">📚 &nbsp;本文同步发布在 Notion：<a href="https://xheldon.notion.site/Apple-TV-IPTV-ad9bb4bcb5b64234b1335a3d809e1bf8?pvs=4"
                                    target="_blank">
                                    https://xheldon.notion.site/Apple-TV-IPTV-ad9bb4bcb5b64234b1335a3d809e1bf8?pvs=4
                                  </a></div>
                                
                                  <h2 id="前言">前言</h2>
<p>之前在 <a href="/life/the-way-to-watching-tv.html">这篇博客</a> 讲了现在家庭观影的方案，其中提到的一个点是使用网络上别人抓取到的 IPTV 的节目地址（m3u 后缀），放入 iPlayTV 中，可以直接播。但是这个节目地址过一段时间就失效了，这是因为联通 IPTV 服务器会时不时的会更新一下节目的播放地址，而 Apple TV 上填写的地址是固定的，无法及时更新，因此本文就来解决这个问题。</p>
<p class='content-callout' style='background: rgb(253, 235, 236); color: ;'><span class='content-callout-icon'>🚧</span><span>**使用前必读：**本人为北京联通宽带，**光猫使用桥接方式，路由器拨号，软路由 R4S 以旁路由**的方式进行连接。本教程针对该拓扑方案进行介绍，其他网络拓扑如「光猫桥接 + R4S 当主路由进行拨号，或者光猫拨号 + R4S 旁路由」等，也可以实现，但是其中关键的 R4S 设置也许跟本教程有些许的差异，建议多搜索一下，领会其中的精神，不用完全跟我的一样。</span></p>
<p class='content-callout' style='background: rgb(251, 243, 219); color: ;'><span class='content-callout-icon'>🚧</span><span>同上，如果你是使用光猫直接拨号，你可以直接从光猫接根线出来到旁/主路由上进行组播变单播；也可以直接在支持的设备上使用组播地址进行播放，就不用像我这么麻烦了。具体还要看你家的网络拓扑结构而定。</span></p>
<p class='content-callout' style='background: rgb(251, 236, 221); color: ;'><span class='content-callout-icon'>🚧</span><span>本教程仅针对北京联通 IPTV 测试成功，其他地区可能有所差异，如果发现文本中有跟地域强相关的内容，请根据你所在的地区替换对应内容。</span></p>
<p class='content-callout' style='background: rgb(244, 238, 238); color: ;'><span class='content-callout-icon'>🚧</span><span>在修改设置前，请提前先备份所有路由器、设备的设置，以防万一。</span></p>
<p class='content-callout' style='background: rgb(251, 243, 219); color: ;'><span class='content-callout-icon'>🚧</span><span>我使用的软路由是 R4S，有两个网口。如果你是跟我一样的网络拓扑，请保证你的软路由至少有两个或以上网口，因为一个需要连主路由，另一个需要连光猫。</span></p>
<p class='content-callout' style='background: rgba(244, 240, 247, 0.8); color: ;'><span class='content-callout-icon'>🚧</span><span>我家的光猫网段是：192.168.1.x，主路由网段是 192.168.5.x；光猫地址是 192.168.1.1，R4S 的地址是 192.168.5.2，主路由 Lan 口地址是 192.168.5.1，路由器 Wan 口地址是 192.168.1.2。</span></p>
<h2 id="确定是否支持白嫖">确定是否支持白嫖</h2>
<p class='content-callout' style='background: rgb(231, 243, 248); color: ;'><span class='content-callout-icon'>🚧</span><span>目前北京地区的 IPTV 没有增加鉴权，但是从我看到的信息来看其他地区的一些运营商有对 IPTV 进行加密鉴权，即必须用运营商给的 IPTV 盒子的 Mac 地址连接（盒子起到解密的作用），才能实现脱离盒子使用软路由进行局域网任意设备的播放。具体如何实现比较复杂，本教程不介绍这个场景。</span></p>
<h3 id="提前下载-vlc">提前下载 VLC</h3>
<p>光猫桥接，路由器拨号的方式上网后，连接光猫后是无法上网的，因此请先提前在电脑上下载好 VLC 播放软件，以供一会儿进行测试，VLC 播放器地址在这里下载：</p>
<p><a class='link-bookmark' href='https://www.videolan.org/vlc/' target='_blank'><span data-bookmark-img='' data-bookmark-title='O'><img src=''/></span><span><span> Official download of VLC media player, the best Open Source player - VideoLAN</span><span> Official download of VLC media player, the best Open Source player</span><span> https://www.videolan.org/vlc/</span></span></a></p>
<h3 id="连接光猫">连接光猫</h3>
<p>将<strong>电脑使用有线的方式连接光猫</strong>的 IPTV 口（如果光猫上没有发现 IPTV 口，则表示光猫支持混插，即接口不区分宽带和 IPTV 口，插任意一个口都行），然后在 VLC 软件中：</p>
<ul>
<li>
<p>打开 File-Open Network。</p>
</li>
<li>
<p>点击下面的 Open RTP/UDP Stream。</p>
</li>
<li>
<p>Protocol 选 RTP，Mode 选 Multicast，IP Address 填：<code>239.3.1.241</code> （或者 <code>rtp://239.3.1.241</code> ，具体哪个忘了）端口填 <code>8000</code> 。</p>
</li>
</ul>
<p>点 Open 之后，如果可以看到北京卫视，说明你可以免费白嫖。</p>
<p caption='VLC RTP 播放'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/ea9168ee-6086-42df-b6b4-269900eb5592.webp' alt='VLC RTP 播放' title='VLC RTP 播放'></p>
<p class='content-callout' style='background: rgb(251, 243, 219); color: ;'><span class='content-callout-icon'>💡</span><span>这里的 `rtp://239.3.1.241:8000` 就是北京卫视的组播地址，将来该地址可能有变化，具体准确的地址，可以到 `https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/IPTV-Unicom.m3u` 这里，找到任意一个 rtp 路径后面的 ip 地址进行测试。</span></p>
<h2 id="基本概念解释">基本概念解释</h2>
<p>不想了解的直接跳到下一节。</p>
<h3 id="iptv">IPTV</h3>
<p>根据维基百科对 IPTV 的解释：</p>
<p class='content-callout' style='background: rgb(241, 241, 239); color: ;'><span class='content-callout-icon'>📖</span><span>网路协定电视（英语：Internet Protocol Television，缩写：IPTV）是宽频电视的一种。IPTV 是用宽频网络作为介质传送电视信息的一种系统，将广播节目透过宽频上的网际协议（Internet Protocol, IP）向订户传递数码电视服务。由于需要使用网路，IPTV 服务供应商经常会一并提供连接互联网及 IP 电话等相关服务，也可称为“三重服务”或“三合一服务”（Triple Play）。IPTV 是数位电视的一种，因此普通电视机需要配合相应的机顶盒接收频道，也因此供应商通常会向客户同时提供随选视讯服务。虽透过宽频网路及网际协议，但 IPTV 不一定透过网际网路，为传输品质会通过局域网传输。</span></p>
<p>有此可知，一般情况下 IPTV 都是宽带提供商提供的服务，通过它可以看电视。</p>
<h3 id="组播">组播</h3>
<p>一种 IPTV 实现播放的技术手段，英文名叫「multicast」，也译为多播。具体概念不用弄太清楚，了解到它相比于单播：</p>
<p><strong>优势在于：</strong></p>
<ul>
<li>
<p>不占用互联网带宽。</p>
</li>
<li>
<p>IPTV 盒子起到认证的作用，IPTV 运营商由于是对一个组进行广播，因此对自己的服务器压力较小。</p>
</li>
</ul>
<p>劣势<strong>在于：</strong></p>
<ul>
<li>必须有线连接光猫 IPTV 口（有些光猫支持混插，即不区分 IPTV 口还是宽带口）才能用，因此只能连接 IPTV 盒子的设备使用，不能使用 WiFi 让家里任意设备观看网络电视。</li>
</ul>
<h3 id="单播">单播</h3>
<p>另一种较老的 IPTV 实现播放的技术手段，早期 IPTV 用户不多的时候使用该方案，相比于组播来说，彼之缺点就是其之优点，反之亦然，即：</p>
<p><strong>优势在于：</strong></p>
<ul>
<li>接入后，局域网支持 WiFi ，以供任意设备播放。</li>
</ul>
<p><strong>劣势在于：</strong></p>
<ul>
<li>
<p>跟服务器 1 对 1 连接，服务器压力较大，用户多的时候播放会比较卡顿。</p>
</li>
<li>
<p>占用宽带的带宽，直接使用互联网连接进行的播放（就跟现在看直播一样）。</p>
</li>
</ul>
<h3 id="udpxy">udpxy</h3>
<blockquote style='border-color: ;color: '><p> udpxy 服务器是**一款 UDP 流转 HTTP 流的代理服务器**，可以将 IP 直播流转化为 HTTP 流，方便在各种终端上播放。</p></blockquote>
<p>当无法直接获取到组播地址的时候，用来将组播地址转为单播地址，如组播地址是：a:b， d:e（a、d 为 ip 地址，b、e 为端口）；转换成单播地址后就是统一的地址如 z/a/b，z/d/e。播放器监听这个地址 z 即可。</p>
<h3 id="m3u">m3u</h3>
<blockquote style='border-color: ;color: '><p> **M3U**（MP3 URL 的缩写）是一种播放多媒体列表的文件格式，它的设计初衷是为了播放音频文件，比如 MP3，但是越来越多的软件现在用做播放视频文件列表的格式。</p></blockquote>
<p>m3u 文件就是一个里面含有全部播放组播地址的文本文件，在 Apple TV 或者电脑上读取这个文件地址，就可以播放其中的视频地址。</p>
<h3 id="epg">EPG</h3>
<p>包含节目单信息，上一步知道 m3u 地址后，里面都是一个个的 ip 地址，那如何知道每个 ip 地址是哪个频道呢？这个时候就需要一个 EPG 进行配对了，EPG 含有每个地址的节目信息，甚至是频道的简单介绍，EPG 通常会随着视频信号一起广播。</p>
<h2 id="网络拓扑">网络拓扑</h2>
<p caption='网络拓扑-主路由拨号'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/0349a1d5-caeb-4233-b36b-8bc1c7db7565.webp' alt='网络拓扑-主路由拨号' title='网络拓扑-主路由拨号'></p>
<h2 id="上手实操">上手实操</h2>
<p class='content-callout' style='background: rgb(251, 243, 219); color: ;'><span class='content-callout-icon'>🚧</span><span>动手之前先按照开头所述检查是否支持白嫖。</span></p>
<h3 id="设置软路由">设置软路由</h3>
<p><strong>安装 udpxy 和 luci-udpxy</strong></p>
<p>这一步就是常规的操作了，UI 安装最方便，如图（安装完成后先别启用，最后一步再启用）：</p>
<p caption='软件安装界面'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/2be1ca35-90a8-4936-89cd-5458557ac064.webp' alt='软件安装界面' title='软件安装界面'></p>
<p><strong>新建/配置网络接口</strong></p>
<p>这一步为了让软路由识别到来自光猫的数据。</p>
<ul>
<li>在 <code>网络-接口</code> 中新建一个接口，随便起个名字叫 <code>IPTV</code> ：</li>
</ul>
<p caption='新建 IPTV 接口'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/a938e2a7-9723-40f5-8b86-3ed151ba12c5.webp' alt='新建 IPTV 接口' title='新建 IPTV 接口'></p>
<p>注意箭头的部分，我已经新建好了所以括号中有 IPTV 字样，刚新建的时候是没有的。其中 eth1 是我的 Lan 口，接的是主路由；eth0 是另一个接口，接的即是光猫（IPTV 口）；这里我曾经修改过，默认情况下，eht0 是 Lan 口，eth1 是 Wan 口，不重要，这一步是将 Wan 口用作 IPTV 口。</p>
<ul>
<li>配置「IPTV」接口的网关跃点与防火墙设置：</li>
</ul>
<p caption='配置网关跃点'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/d1df1f84-7240-4eb9-872b-6871f9c895a6.webp' alt='配置网关跃点' title='配置网关跃点'></p>
<p caption='防火墙配置到 wan 上'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/c0e4032b-f066-4fcf-b906-dae85a37d070.webp' alt='防火墙配置到 wan 上' title='防火墙配置到 wan 上'></p>
<ul>
<li>配置 Wan 口的网关跃点：</li>
</ul>
<p caption='Wan 口网关跃点'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/21347824-ca57-4715-9fe9-cd7b6be0f282.webp' alt='Wan 口网关跃点' title='Wan 口网关跃点'></p>
<ul>
<li>配置 Lan 口 IGMP 嗅探：</li>
</ul>
<p caption='IGMP 嗅探'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/b075aaec-042b-4f9d-9437-27ea4d17211e.webp' alt='IGMP 嗅探' title='IGMP 嗅探'></p>
<ul>
<li>配置网络防火墙</li>
</ul>
<p caption='网络防火墙配置'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/577418eb-c3f6-43be-b73b-b1cf3ab5dcea.webp' alt='网络防火墙配置' title='网络防火墙配置'></p>
<p caption='防火墙配置2'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/b3ce719b-a05d-41ef-ab4a-12eb866178a8.webp' alt='防火墙配置2' title='防火墙配置2'></p>
<p><strong>配置 udpxy 服务</strong></p>
<ul>
<li>如图配置即可，注意这里的 eth0 是 Wan 口，别搞错了：</li>
</ul>
<p caption='打开 UDPXY'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/bcd40c05-ed7f-43fd-b833-4cee94948150.webp' alt='打开 UDPXY' title='打开 UDPXY'></p>
<p>最后尝试打开  [<a href="http://192.168.5.2:4022/status">http://192.168.5.2:4022/status</a>]([object Object])  验证 udpxy 服务是否启动成功：</p>
<p caption='看到这个就表示成功了'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/189e9cb4-80c9-4b5d-8f57-722660e66145.webp' alt='看到这个就表示成功了' title='看到这个就表示成功了'></p>
<p>之后，将之前使用 VLC 打开的地址 <code>rtp://239.3.1.241:8000</code> 改成 <code>http://192.168.2.1:4022/rtp/239.3.1.241:8000</code> 再尝试打开（不用点下面的 Open RTP/UDP Stream，直接在 URL 中打开）。</p>
<p caption='尝试将 RTP 变 HTTP 播放'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/582e015c-4260-4181-a81c-5eafc97a1132.webp' alt='尝试将 RTP 变 HTTP 播放' title='尝试将 RTP 变 HTTP 播放'></p>
<p>然后双击播放即可：</p>
<p caption='成功画面↑'><img src='https://static.xheldon.cn/img/in-post/2023/iptv-for-apple-tv-in-beijing/215aa895-e673-419a-a4fc-b94603af8baa.webp' alt='成功画面↑' title='成功画面↑'></p>
<h3 id="使用播放软件">使用播放软件</h3>
<p>我是在 Apple TV 4K 看电视的，试了几个播放软件，这里简单说说：</p>
<ul>
<li>
<p>iPlayTV 不能播放，不知道为什么。</p>
</li>
<li>
<p>Fileball 上下换台没问题，但是一选台就闪退。</p>
</li>
<li>
<p>最终选择了 IIVA 同一个开发者的 app：「TV+」，港区售价 38 港币（购买第二天就限免，尴尬）。</p>
</li>
</ul>
<h2 id="如何实现自动更新地址">如何实现自动更新地址</h2>
<p>联通的 IPTV 节目播放地址，每隔一段时间都会变一次，有时候变的是端口，有时候变的是 ip 地址，这个时候再用这个办法播放就失效了，怎么办呢？</p>
<p>网上有好心人，经过一系列复杂监听操作，比如这个：</p>
<p><a class='link-bookmark' href='https://blog.friskit.me/2020/05/31/bjunicom-network.html' target='_blank'><span data-bookmark-img='' data-bookmark-title='光'><img src=''/></span><span><span> 光纤入户光猫改桥接+内网转发IPTV=任意设备看电视直播 - Botian's Blog</span><span> 警告：本文将会介绍修改本地网络环境，部分操作有可能会导致你无法连接网络，如果不具备相关的网络知识，可能难以修复，甚至需要请运营商人员协助。所以以下内容请谨慎操作注意：请确保你手中有你家网络的 PPPoE 拨号账户密码（通常印在了办理业务给的用户回单上），也可以通过电话咨询运营商，也可以进入到路由器的设置里找到相应的用...</span><span> https://blog.friskit.me/2020/05/31/bjunicom-network.html</span></span></a></p>
<p>获取到了 IPTV 电视盒子与联通服务器通信的数据，拿到了它的地址，因此我们直接使用即可，如：</p>
<p><a class='link-bookmark' href='https://github.com/qwerttvv/Beijing-IPTV/blob/master/README.md' target='_blank'><span data-bookmark-img='' data-bookmark-title='G'><img src=''/></span><span><span> github.com</span><span> https://github.com/qwerttvv/Beijing-IPTV/blob/master/README.md</span><span> https://github.com/qwerttvv/Beijing-IPTV/blob/master/README.md</span></span></a></p>
<p>但是这里有个点是，你家里的软路由地址需要跟这位好心人的地址是一样的（192.168.123.1），然后将 udpxy 端口改为 23234，这样你就可以直接将这个地址放到 TV+ 里面即可：</p>
<p><a class='link-bookmark' href='https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/IPTV-Unicom.m3u' target='_blank'><span data-bookmark-img='' data-bookmark-title='R'><img src=''/></span><span><span> raw.githubusercontent.com</span><span> https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/IPTV-Unicom.m3u</span><span> https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/IPTV-Unicom.m3u</span></span></a></p>
<p>否则，你就只能主动监听这个文件的变动，然后更新。</p>
<p>这里我花十分钟在 Vercel 部署了一个 API 服务，同时启用了 Vercel 的 Corn Jobs 服务，可以定时执行函数，来检测变动，代码如下，你也可以自己部署一套：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> type &#123; <span class="hljs-title class_">NextApiRequest</span>, <span class="hljs-title class_">NextApiResponse</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next&#x27;</span>;<br><br>type <span class="hljs-title class_">ResponseData</span> = &#123;<br>  <span class="hljs-attr">msg</span>: string,<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 该函数用来将网友通过 IPTV 盒子抓包获取的联通单播地址，转成自己的单播地址</span><br><span class="hljs-comment"> * 该函数每天 3 点触发一次，定时检测网友的单播地址是否有更新，使用 vercel corn 任务进行</span><br><span class="hljs-comment"> * <span class="hljs-doctag">TODO:</span> 该函数未做鉴权，任何人都可以手动触发检测，为了防止滥用可以加上鉴权，但是 corn 似乎没这个功能</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handler</span>(<span class="hljs-params"></span><br><span class="hljs-params">  request: NextApiRequest,</span><br><span class="hljs-params">  response: NextApiResponse&lt;ResponseData&gt;</span><br><span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// Note: 步骤</span><br>  <span class="hljs-comment">// 1. 获取网友通过监听盒子数据包抓取的（自己搞比较费劲，直接用现成的了）联通 IPTV 永久地址（rtp 协议的组播地址，多用户通用），获取其内容</span><br>  <span class="hljs-comment">// 2. 添加本地 udpxy 转发地址</span><br>  <span class="hljs-comment">// 3. 获取之前的 github gist 内容以对比二者</span><br>  <span class="hljs-comment">// 4. 有差异，则更新 github gist 内容</span><br>  <span class="hljs-comment">// 5. 没有，则不做操作</span><br>  <span class="hljs-comment">// Note: 环境变量，自己在 Vercel 中设置好</span><br>  <span class="hljs-keyword">const</span> token = process.<span class="hljs-property">env</span>.<span class="hljs-property">GITHUB_TOKEN</span>;<br>  <span class="hljs-keyword">const</span> gist = process.<span class="hljs-property">env</span>.<span class="hljs-property">GIST_URL</span>;<br>  <span class="hljs-keyword">const</span> id = process.<span class="hljs-property">env</span>.<span class="hljs-property">GIST_ID</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<br>    <span class="hljs-string">&#x27;https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/IPTV-Unicom.m3u&#x27;</span><br>  )<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (res) =&gt; &#123;<br>      <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;获取源地址异常&#x27;</span>);<br>        <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>          <span class="hljs-attr">msg</span>: <span class="hljs-string">&#x27;获取源地址异常&#x27;</span>,<br>        &#125;);<br>      &#125;<br>      <span class="hljs-keyword">const</span> src = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">text</span>();<br>      <span class="hljs-comment">// Note: 替换网友的本地单播地址为我的，其实你也可以将自己家的路由器网段设置成跟网友的一样（192.168.123.x），udpxy 端口转发设置成跟网友一样（23234），你就可以直接使用该地址了</span><br>      <span class="hljs-keyword">const</span> newGist = src.<span class="hljs-title function_">replace</span>(<br>        <span class="hljs-regexp">/http\:\/\/192\.168\.123\.1\:23234/g</span>,<br>        <span class="hljs-string">&#x27;http://192.168.5.2:4022&#x27;</span><br>      );<br>      response.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;text/html; charset=utf-8&#x27;</span>);<br>      <span class="hljs-comment">// Note: 获取 gist 的 raw 内容，需要加个 cache-bust 否则每次请求会被缓存</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;gist&#125;</span>?cache-bust=<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100000</span>)&#125;</span>`</span>, &#123;<br>        <span class="hljs-attr">headers</span>: &#123;<br>          <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">$&#123;token&#125;</span>`</span>,<br>        &#125;,<br>      &#125;)<br>        .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (pre) =&gt; &#123;<br>          <span class="hljs-keyword">const</span> preGist = <span class="hljs-keyword">await</span> pre.<span class="hljs-title function_">text</span>();<br>          <span class="hljs-comment">// console.log(&#x27;preGist:&#x27;, preGist);</span><br>          <span class="hljs-keyword">if</span> (<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(newGist) !== <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(preGist)) &#123;<br>            <span class="hljs-comment">// Note: 更新 Gist</span><br>            <span class="hljs-keyword">const</span> files = &#123;<br>              <span class="hljs-string">&#x27;IPTV.m3u&#x27;</span>: &#123;<br>                <span class="hljs-attr">content</span>: newGist,<br>              &#125;,<br>            &#125;;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://api.github.com/gists/<span class="hljs-subst">$&#123;id&#125;</span>`</span>, &#123;<br>              <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;PATCH&#x27;</span>,<br>              <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">$&#123;token&#125;</span>`</span>,<br>                <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;text/plain&#x27;</span>,<br>              &#125;,<br>              <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123; files &#125;),<br>            &#125;)<br>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<br>                  <span class="hljs-string">`更新成功: <span class="hljs-subst">$&#123;gist&#125;</span>?cache-bust=<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.floor(</span></span><br><span class="hljs-subst"><span class="hljs-string">                    <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000000</span></span></span><br><span class="hljs-subst"><span class="hljs-string">                  )&#125;</span>`</span><br>                );<br>                <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>                  <span class="hljs-attr">msg</span>: <span class="hljs-string">`更新成功: <span class="hljs-subst">$&#123;gist&#125;</span>?cache-bust=<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.floor(</span></span><br><span class="hljs-subst"><span class="hljs-string">                    <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000000</span></span></span><br><span class="hljs-subst"><span class="hljs-string">                  )&#125;</span>`</span>,<br>                &#125;);<br>              &#125;)<br>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`更新失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>);<br>                <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>                  <span class="hljs-attr">msg</span>: <span class="hljs-string">`更新失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>,<br>                &#125;);<br>              &#125;);<br>          &#125;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<br>            <span class="hljs-string">`未变化: <span class="hljs-subst">$&#123;gist&#125;</span>?cache-bust=<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000000</span>)&#125;</span>`</span><br>          );<br>          <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>            <span class="hljs-attr">msg</span>: <span class="hljs-string">`未变化: <span class="hljs-subst">$&#123;gist&#125;</span>?cache-bust=<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.floor(</span></span><br><span class="hljs-subst"><span class="hljs-string">              <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000000</span></span></span><br><span class="hljs-subst"><span class="hljs-string">            )&#125;</span>`</span>,<br>          &#125;);<br>        &#125;)<br>        .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`获取自己的 gist 失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>);<br>          <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>            <span class="hljs-attr">msg</span>: <span class="hljs-string">`获取自己的 gist 失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>,<br>          &#125;);<br>        &#125;);<br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`获取别人的源失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>);<br>      <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>(&#123;<br>        <span class="hljs-attr">msg</span>: <span class="hljs-string">`获取别人的源失败: <span class="hljs-subst">$&#123;e&#125;</span>`</span>,<br>      &#125;);<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Corn Jobs 服务配置：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;crons&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/api/get&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;schedule&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0 15 * * *&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>
<p>拉取该文件后若有更新，会自动更新 gist 文件：</p>
<p><a class='link-bookmark' href='https://gist.githubusercontent.com/Xheldon/73bf97cb5ac5db2f5237264556b20951/raw/ea44694028a38baefff04ea46c02795e448d76f0/IPTV.m3u' target='_blank'><span data-bookmark-img='' data-bookmark-title='G'><img src=''/></span><span><span> gist.githubusercontent.com</span><span> https://gist.githubusercontent.com/Xheldon/73bf97cb5ac5db2f5237264556b20951/raw/ea44694028a38baefff04ea46c02795e448d76f0/IPTV.m3u</span><span> https://gist.githubusercontent.com/Xheldon/73bf97cb5ac5db2f5237264556b20951/raw/ea44694028a38baefff04ea46c02795e448d76f0/IPTV.m3u</span></span></a></p>
<p>这样，我只需要在 TV+ 中写死这个 gist 地址，即可在网友更新这个地址的时候，自动更新了。</p>
<h2 id="参考链接">参考链接</h2>
<p><a class='link-bookmark' href='https://blog.lishun.me/iptvhelper-guide' target='_blank'><span data-bookmark-img='https://www.notion.so/image/https%3A%2F%2Fi.typlog.com%2Fshun%2F8424208919_08088.png%3Fx-oss-process%3Dstyle%2Fss?table=block&id=96dd71a4-4795-4c54-aedf-0bd706fe5c45&spaceId=1e3e7c05-fc11-4038-9f76-92db32b98824&width=500&userId=0bfcee52-05b1-4d38-bf9a-26223d36426c&cache=v2' data-bookmark-title='单'><img src='https://www.notion.so/image/https%3A%2F%2Fi.typlog.com%2Fshun%2F8424208919_08088.png%3Fx-oss-process%3Dstyle%2Fss?table=block&id=96dd71a4-4795-4c54-aedf-0bd706fe5c45&spaceId=1e3e7c05-fc11-4038-9f76-92db32b98824&width=500&userId=0bfcee52-05b1-4d38-bf9a-26223d36426c&cache=v2'/></span><span><span> 单线融合IPTV到家庭局域网最简单的方法：路由+桥接混合模式</span><span> 目录 前言 基础知识 第一步：光猫改桥接 桥接的方法 确认你的网络结构 第二步：Openwrt 路由器及基本配置 设置接口 网关跃点 第三步：组播代理到家庭网络 组播代理 组播转单播 第四步：融合 IPTV 内容服务网络到家庭网络 使用 IPTV...</span><span> https://blog.lishun.me/iptvhelper-guide</span></span></a></p>
<p><a class='link-bookmark' href='https://blog.friskit.me/2020/05/31/bjunicom-network.html' target='_blank'><span data-bookmark-img='' data-bookmark-title='光'><img src=''/></span><span><span> 光纤入户光猫改桥接+内网转发IPTV=任意设备看电视直播 - Botian's Blog</span><span> 警告：本文将会介绍修改本地网络环境，部分操作有可能会导致你无法连接网络，如果不具备相关的网络知识，可能难以修复，甚至需要请运营商人员协助。所以以下内容请谨慎操作注意：请确保你手中有你家网络的 PPPoE 拨号账户密码（通常印在了办理业务给的用户回单上），也可以通过电话咨询运营商，也可以进入到路由器的设置里找到相应的用...</span><span> https://blog.friskit.me/2020/05/31/bjunicom-network.html</span></span></a></p>
<p><a class='link-bookmark' href='https://www.haoyizebo.com/posts/6a0c2301/' target='_blank'><span data-bookmark-img='https://www.notion.so/image/https%3A%2F%2Fbimg.503725.xyz%2Fimg%2F1684758526-0EwWPN.jpg%3Fx-oss-process%3Dimgalias%2Fblog-index-thumbnail?table=block&id=47748e7e-0c71-43eb-a917-f8f5e8bc458e&spaceId=1e3e7c05-fc11-4038-9f76-92db32b98824&width=500&userId=0bfcee52-05b1-4d38-bf9a-26223d36426c&cache=v2' data-bookmark-title='北'><img src='https://www.notion.so/image/https%3A%2F%2Fbimg.503725.xyz%2Fimg%2F1684758526-0EwWPN.jpg%3Fx-oss-process%3Dimgalias%2Fblog-index-thumbnail?table=block&id=47748e7e-0c71-43eb-a917-f8f5e8bc458e&spaceId=1e3e7c05-fc11-4038-9f76-92db32b98824&width=500&userId=0bfcee52-05b1-4d38-bf9a-26223d36426c&cache=v2'/></span><span><span> 北京联通白嫖 IPTV</span><span> 北京联通是没开通 IPTV 也能收到电视组播数据的。 本文就介绍如何白嫖北京联通 IPTV，并使任意设备可在家庭网络上流畅观看 IPTV 的直播流。</span><span> https://www.haoyizebo.com/posts/6a0c2301/</span></span></a></p>

                                    <div class="text-danger">- EOF -</div>
                                    <div style="font-size: 12px; color: #ccc!important;">本文最先发布在: <a
                                        style="color: #ccc;"
                                        href="https://www.xheldon.cn/life/iptv-for-apple-tv-in-beijing.html"
                                        title="使用 Apple TV 收看北京联通 IPTV">
                                        使用 Apple TV 收看北京联通 IPTV - Xheldon Blog
                                      </a></div>
                                    <hr style="visibility: hidden;">

                                    <ul class="pager">
                                      
                                        <li class="previous">
                                          <a href="/life/make-vscode-great-forever.html" data-toggle="tooltip"
                                            data-placement="top" title="让 VSCode 更好用的设置——前端开发角度">
                                            上一篇<br>
                                            <span>{{page.prev.title}}</span>
                                          </a>
                                        </li>
                                        
                                          
                                            <li class="next">
                                              <a href="/life/the-use-of-teslamate.html" data-toggle="tooltip"
                                                data-placement="top" title="TeslaMate 使用指南">
                                                下一篇<br>
                                                <span>{{page.next.title}}</span>
                                              </a>
                                            </li>
                                            
                                    </ul>
                                    <hr style="visibility: hidden;">
                                    <div class="giscus"></div>
                                    <hr>
        </div>
        <!-- Side Catalog Container -->
        
          <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
            <div class="side-catalog">
              <hr class="hidden-sm hidden-xs">
              <h5>
                <a class="catalog-toggle" href="#">目录</a>
              </h5>
              <ul class="catalog-body"></ul>
            </div>
          </div>
          

            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">
              
<section style="margin-bottom: 20px;">
    <h5>博主说：</h5>
    <div>
        <img style="float: right; max-width: 120px; max-height: 120px; margin-right: 5px; margin-top: -45px;" src="/img/gwechat.png" />
        我常常希望在面对人生中一些关键抉择的时候，有人可以告诉我最佳的做法，让我不至于白白浪费宝贵的时间。推己及人，我因此经常写博客，以期在浩渺无垠的互联网中的这个小小角落里记录下对于我来说只有一次的人生经历，希望能够帮到那些希望得到帮助的人。
    </div>
    <hr>
    <h5><a href="/archive/">热门标签</a></h5>
    <div class="tags">
        

        
            <a data-sort="0028" 
                href="/archive/?tag=%E6%8A%80%E6%9C%AF"
                title="技术"
                rel="44">技术</a>
        
            <a data-sort="0047" 
                href="/archive/?tag=%E7%94%9F%E6%B4%BB"
                title="生活"
                rel="25">生活</a>
        
            <a data-sort="0062" 
                href="/archive/?tag=%E6%8A%98%E8%85%BE"
                title="折腾"
                rel="10">折腾</a>
        
            <a data-sort="0066" 
                href="/archive/?tag=%E7%BF%BB%E8%AF%91"
                title="翻译"
                rel="6">翻译</a>
        
            <a data-sort="0067" 
                href="/archive/?tag=%E6%8A%80%E5%B7%A7"
                title="技巧"
                rel="5">技巧</a>
        
            <a data-sort="0067" 
                href="/archive/?tag=%E6%95%99%E7%A8%8B"
                title="教程"
                rel="5">教程</a>
        
            <a data-sort="0067" 
                href="/archive/?tag=%E7%BE%8E%E9%A3%9F"
                title="美食"
                rel="5">美食</a>
        
            <a data-sort="0067" 
                href="/archive/?tag=ProseMirror"
                title="ProseMirror"
                rel="5">ProseMirror</a>
        
            <a data-sort="0068" 
                href="/archive/?tag=%E5%B7%A5%E4%BD%9C%E6%B5%81"
                title="工作流"
                rel="4">工作流</a>
        
            <a data-sort="0068" 
                href="/archive/?tag=%E6%8F%92%E4%BB%B6"
                title="插件"
                rel="4">插件</a>
        
            <a data-sort="0068" 
                href="/archive/?tag=%E7%BD%91%E7%BB%9C"
                title="网络"
                rel="4">网络</a>
        
            <a data-sort="0068" 
                href="/archive/?tag=Craft"
                title="Craft"
                rel="4">Craft</a>
        
            <a data-sort="0068" 
                href="/archive/?tag=Vue"
                title="Vue"
                rel="4">Vue</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E5%88%9D%E4%BD%93%E9%AA%8C"
                title="初体验"
                rel="3">初体验</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E6%9C%8D%E5%8A%A1%E5%99%A8"
                title="服务器"
                rel="3">服务器</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E7%BB%8F%E9%AA%8C"
                title="经验"
                rel="3">经验</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E8%8B%B9%E6%9E%9C"
                title="苹果"
                rel="3">苹果</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E8%B7%AF%E7%94%B1%E5%99%A8"
                title="路由器"
                rel="3">路由器</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E8%BD%AF%E8%B7%AF%E7%94%B1"
                title="软路由"
                rel="3">软路由</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E9%9A%8F%E7%AC%94"
                title="随笔"
                rel="3">随笔</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=%E9%9B%86%E6%88%90"
                title="集成"
                rel="3">集成</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=Apple"
                title="Apple"
                rel="3">Apple</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=Git"
                title="Git"
                rel="3">Git</a>
        
            <a data-sort="0069" 
                href="/archive/?tag=JavaScript"
                title="JavaScript"
                rel="3">JavaScript</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E4%B8%BB%E9%A3%9F"
                title="主食"
                rel="2">主食</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E4%BC%98%E5%8C%96"
                title="优化"
                rel="2">优化</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C"
                title="使用体验"
                rel="2">使用体验</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E5%8D%83%E5%85%86"
                title="千兆"
                rel="2">千兆</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E5%A4%A7%E4%BA%8B"
                title="大事"
                rel="2">大事</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E6%97%81%E8%B7%AF%E7%94%B1"
                title="旁路由"
                rel="2">旁路由</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E6%B3%A1%E8%84%9A%E6%97%B6%E9%97%B4"
                title="泡脚时间"
                rel="2">泡脚时间</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E6%B5%8B%E8%AF%95"
                title="测试"
                rel="2">测试</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E7%89%B9%E6%96%AF%E6%8B%89"
                title="特斯拉"
                rel="2">特斯拉</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E7%BC%96%E8%BE%91%E5%99%A8"
                title="编辑器"
                rel="2">编辑器</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E8%A7%86%E9%A2%91"
                title="视频"
                rel="2">视频</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E8%B0%83%E8%AF%95"
                title="调试"
                rel="2">调试</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E8%BD%A6"
                title="车"
                rel="2">车</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=%E8%BF%81%E7%A7%BB"
                title="迁移"
                rel="2">迁移</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=AppleScript"
                title="AppleScript"
                rel="2">AppleScript</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=CI"
                title="CI"
                rel="2">CI</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=GitHub"
                title="GitHub"
                rel="2">GitHub</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=Jekyll"
                title="Jekyll"
                rel="2">Jekyll</a>
        
            <a data-sort="0070" 
                href="/archive/?tag=Notion"
                title="Notion"
                rel="2">Notion</a>
        
    </div>
    <hr>
    <h5>专栏</h5>
    <div class="tags">
        <a href="/projects">开源项目</a>
        <a href="/book-list">技术书单</a>
        <a href="/subscribe">订阅&付费软件</a>
        <a href="/my-food">美食推荐</a>
    </div>
</section>

                
<hr>
<h5>朋友们</h5>
<ul class="list-inline">
  
  <li><a href="https://prosemirror.xheldon.com" target="_blank">ProseMirror 中文</a></li>
  
  <li><a href="https://rust.xheldon.com" target="_blank">Rust 中文</a></li>
  
  <li><a href="https://slate.xheldon.com" target="_blank">Slate 中文</a></li>
  
  <li><a href="https://notion-flow.xheldon.com" target="_blank">Notion Flow</a></li>
  
  <li><a href="https://xpic.xheldon.com" target="_blank">xPic</a></li>
  
  
    <li><a href="https://www.xheldon.cn" target="_blank">国内版</a></li>
  
</ul>

            </div>
      </div>
    </div>
  </article>

  

        

            <script src="https://giscus.app/client.js"
        data-repo="Xheldon/x_blog"
        data-repo-id="MDEwOlJlcG9zaXRvcnk1MDgyODA3Ng=="
        data-category="Announcements"
        data-category-id="DIC_kwDOAweTLM4B_uhM"
        data-mapping="specific"
        data-term="使用 Apple TV 收看北京联通 IPTV"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

              
                <!-- async load function -->
                <script>
                  function async(u, c) {
                    var d = document,
                      t = 'script',
                      o = d.createElement(t),
                      s = d.getElementsByTagName(t)[0];
                    o.src = u;
                    if (c) {
                      o.addEventListener('load', function (e) {
                        c(null, e);
                      }, false);
                    }
                    s.parentNode.insertBefore(o, s);
                  }
                </script>
                <!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
                <script>
                  async("/js/anchor.min.js", function () {
                    anchors.options = {
                      visible: 'always',
                      placement: 'right',
                      //   icon: '#'
                    };
                    anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
                  })
                </script>
                <style>
                  /* place left on bigger screen */
                  @media all and (min-width: 800px) {
                    .anchorjs-link {
                      position: absolute;
                      left: -0.75em;
                      font-size: 1.1em;
                      margin-top: -0.1em;
                    }
                  }
                </style>
                

    <!-- Footer -->
    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <!-- @param {Boolean} center -->

<ul class="list-inline text-center">
   
    <li>
      <a target="_blank" href="https://twitter.com/_xheldon">
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </li>
      
    <li>
      <a target="_blank" href="http://weibo.com/xheldon">
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </li>
       
    <li>
      <a
        target="_blank"
        href="https://www.youtube.com/@xheldon"
      >
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </li>
     
    <li>
      <a
        target="_blank"
        href="https://space.bilibili.com/13835416"
      >
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-youtube-play fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </li>
      
    <li>
      <a target="_blank" href="https://t.me/xheldon_tech">
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-plane fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </li>
    
  </ul>
</ul>

        <p class="copyright text-muted">
          Copyright &copy;
          <a href="https://github.com/Xheldon" target="_blank">Xheldon</a>
          2024
          <br>
          Don't Panic | Theme fork from
          <a href="https://github.com/Huxpro/huxpro.github.io" target="_blank">Hux</a>
          <br>
          
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
  if (window.matchMedia('(prefers-color-scheme)').media === 'not all') {
    console.log('浏览器不支持主题色');
  } else {
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.remove('light');
      document.documentElement.classList.add('dark');
      // Note: 推特列表添加暗黑主题
      let ttl = document.querySelector('.twitter-timeline');
      if (ttl) {
        ttl.setAttribute('data-theme', 'dark');
      }
    }
    if (window.matchMedia('(prefers-color-scheme: light)').matches) {
      document.documentElement.classList.remove('dark');
      document.documentElement.classList.add('light');
      let ttl = document.querySelector('.twitter-timeline');
      if (ttl) {
        ttl.removeAttribute('data-theme');
      }
    }
    // document.getElementById('dark-mode').addEventListener('click', function() {
    //     document.documentElement.classList.remove('light');
    //     document.documentElement.classList.add('dark');
    // });
    // document.getElementById('light-mode').addEventListener('click', function() {
    //     document.documentElement.classList.add('light');
    //     document.documentElement.classList.remove('dark');
    // });
    // Note: 自动切换
    window
      .matchMedia('(prefers-color-scheme: dark)')
      .addListener(function(mediaQueryList) {
        if (mediaQueryList.matches) {
          document.documentElement.classList.add('dark');
          document.documentElement.classList.remove('light');
        }
      });
    window
      .matchMedia('(prefers-color-scheme: light)')
      .addListener(function(mediaQueryList) {
        if (mediaQueryList.matches) {
          document.documentElement.classList.add('light');
          document.documentElement.classList.remove('dark');
        }
      });
  }
</script>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/xblog.min.js?202405251426"></script>


<!-- Simple Jekyll Search 复制逻辑 -->
<script defer src='/js/simple-jekyll-search.min.js'></script>

<!-- Vercel web analysis -->

<script defer src="/_vercel/insights/script.js"></script>


<!-- Service Worker 不要了，不然总弹那个资源更新的按钮，很烦 -->

<!-- async load function -->
<script>
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener(
        'load',
        function(e) {
          c(null, e);
        },
        false
      );
    }
    s.parentNode.insertBefore(o, s);
  }
</script>

<!-- TODO: 原博客看着有个叫 plchart 的东西，不知道是啥，也没有用，先不管了 -->

<!-- jquery.tagcloud.js -->


<!--fastClick.js -->
<script>
  async ('/js/fastclick.min.js', function() {
    var $nav = document.querySelector('nav');
    if ($nav) FastClick.attach($nav);
  });
</script>

<!-- Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-79359216-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', '{{config.ga_track_id}}');
</script>


<!-- Side Catalog -->

<script type="text/javascript">
  function generateCatalog(selector) {
    // TODO: 多语种没有迁移过来
    // init
    var P = $('div.post-container'),
      a,
      n,
      t,
      l,
      i,
      c;
    a = P.find('h1,h2,h3,h4,h5,h6');

    // clean
    $(selector).html('');

    // appending
    a.each(function() {
      n = $(this).prop('tagName').toLowerCase();
      i = '#' + $(this).prop('id');
      t = $(this).text();
      c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
      l = $('<li class="' + n + '_nav"></li>').append(c);
      $(selector).append(l);
    });
    return true;
  }

  generateCatalog('.catalog-body');

  // toggle side catalog
  $('.catalog-toggle').click(function(e) {
    e.preventDefault();
    $('.side-catalog').toggleClass('fold');
  });

  /*
   * Doc: https://github.com/davist11/jQuery-One-Page-Nav
   * Fork by Hux to support padding
   */
  async ('/js/jquery.nav.js',
    function() {
      $('.catalog-body').onePageNav({
        currentClass: 'active',
        changeHash: !1,
        easing: 'swing',
        filter: '',
        scrollSpeed: 700,
        scrollOffset: 0,
        scrollThreshold: 0.2,
        begin: null,
        end: null,
        scrollChange: null,
        padding: 80,
      });
    }
  );
</script>


<script>
  // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
  function htmlDecode(input) {
    var e = document.createElement('textarea');
    e.innerHTML = input;
    // handle case of empty input
    return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
  }

  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/search.json',
    searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
    noResultsText: 'No results',
    limit: 50,
    fuzzy: false,
    // a hack to get escaped subtitle unescaped. for some reason, 
    // post.subtitle w/o escape filter nuke entire search.
    templateMiddleware: function(prop, value, template) {
      if (prop === 'subtitle' || prop === 'title') {
        if (value.indexOf("code")) {
          return htmlDecode(value);
        } else {
          return value;
        }
      }
    }
  });

  $(document).ready(function() {
    var $searchPage = $('.search-page');
    var $searchOpen = $('.search-icon');
    var $searchClose = $('.search-icon-close');
    var $searchInput = $('#search-input');
    var $body = $('body');

    $searchOpen.on('click', function(e) {
      e.preventDefault();
      $searchPage.toggleClass('search-active');
      var prevClasses = $body.attr('class') || '';
      setTimeout(function() {
        $body.addClass('no-scroll');
      }, 400)

      if ($searchPage.hasClass('search-active')) {
        $searchClose.on('click', function(e) {
          e.preventDefault();
          $searchPage.removeClass('search-active');
          $body.attr('class', prevClasses); // from closure 
        });
        $searchInput.focus();
      }
    });
  });
</script>

    <!-- Image to hack wechat -->
    <img src="/img/icon_wechat.png" width="0" height="0" />
    <!-- Migrate from head to bottom, no longer block render and still work -->
  </body>
</html>
